# Lecture — Lazy Loading in React (Simple Version) (createBrowserRouter)

---

## Folder Structure

```plaintext
src/
├── main.jsx
├── App.jsx
└── pages/
    ├── Home.jsx
    └── Dashboard.jsx
```

---

## 1. Theory

Lazy loading means loading a page **only when the user visits it**, not before. It reduces initial load time and makes the app feel faster.

React provides:

* `React.lazy()` → to load a component lazily
* `Suspense` → to show a fallback loader

---

## 2. Practical Example (Very Simple)

### **Lazy Load Dashboard**

```jsx
const Dashboard = React.lazy(() => import("./pages/Dashboard"));
```

### **Router with Lazy Loading**

```jsx
import React, { Suspense } from "react";
import { createBrowserRouter, RouterProvider } from "react-router-dom";
import App from "./App";
import Home from "./pages/Home";

const Dashboard = React.lazy(() => import("./pages/Dashboard"));

const router = createBrowserRouter([
  {
    path: "/",
    element: <App />,
    children: [
      { path: "", element: <Home /> },
      {
        path: "dashboard",
        element: (
          <Suspense fallback={<p>Loading...</p>}>
            <Dashboard />
          </Suspense>
        ),
      },
    ],
  },
]);

export default function Main() {
  return <RouterProvider router={router} />;
}
```

### **Dashboard.jsx**

```jsx
export default function Dashboard() {
  return <h1>Dashboard Loaded Lazily</h1>;
}
```

---

### **B. Router Setup with Lazy Loading (main.jsx)**

```jsx
import React from "react";
import ReactDOM from "react-dom/client";
import {
  createBrowserRouter,
  RouterProvider,
} from "react-router-dom";

import App from "./App";
import Home from "./pages/Home";
import About from "./pages/About";
import Contact from "./pages/Contact";

import React, { Suspense } from "react";
const Dashboard = React.lazy(() => import("./pages/Dashboard"));

const router = createBrowserRouter([
  {
    path: "/",
    element: <App />,
    children: [
      {
        path: "",
        element: <Home />,
      },
      {
        path: "about",
        element: <About />,
      },
      {
        path: "contact",
        element: <Contact />,
      },
      {
        path: "dashboard",
        element: (
          <Suspense fallback={<h2>Loading Dashboard...</h2>}>
            <Dashboard />
          </Suspense>
        ),
      },
    ],
  },
]);

ReactDOM.createRoot(document.getElementById("root")).render(
  <RouterProvider router={router} />
);
```

---

### **C. App.jsx (Layout + Outlet)**

```jsx
import { Outlet, Link } from "react-router-dom";

export default function App() {
  return (
    <div>
      <nav>
        <Link to="/">Home</Link> |
        <Link to="/about">About</Link> |
        <Link to="/contact">Contact</Link> |
        <Link to="/dashboard">Dashboard</Link>
      </nav>
      <Outlet />
    </div>
  );
}
```

---

### **D. Dashboard.jsx**

```jsx
export default function Dashboard() {
  return <h1>Dashboard Loaded Lazily</h1>;
}
```

---

## 3. Practice Tasks

1. Convert `Home.jsx` into a lazy-loaded component.
2. Create a custom loader message and display it in Suspense.
3. Add one more lazy-loaded page (e.g., About).
